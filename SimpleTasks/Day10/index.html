<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple HTML Page</title>
    <script src="ft.js"></script>

    <style>
        .task-item {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }
        .delete-btn {
            margin-left: 10px;
            background-color: #ff4444;
            color: white;
            border: none;
            border-radius: 3px;
            padding: 2px 6px;
            cursor: pointer;
        }
        .delete-btn:hover {
            background-color: #cc0000;
        }
    </style>
</head>

<body>

        <input type="text" id="taskInput" placeholder="Add a new task...">
        <button id="addTaskButton" onclick="addTask()">Add Task</button>
        <button id="addTaskButton" onclick="removeLastTask()">remove Last Task</button>

        <div class = "to-do-container">
            <ul id="taskList">
                
            </ul>
        </div>


        <script>
            window.onload = loadTasks;

            function loadTasks() {
                const savedTasks = getTasks();
                savedTasks.forEach((task, index) => {
                    appendTask(task, index);
                });
            }

            function getTasks() {
                return JSON.parse(localStorage.getItem('tasks')) || [];
            }

            function saveTasks(tasks) {
                localStorage.setItem('tasks', JSON.stringify(tasks));
            }

            function appendTask(taskText, index) {
                const taskList = document.getElementById('taskList');

                const li = document.createElement('li');
                li.className = 'task-item';
                li.setAttribute('data-index', index);

                const span = document.createElement('span');
                span.textContent = taskText;

                const delBtn = document.createElement('button');
                delBtn.textContent = 'delete';
                delBtn.className = 'delete-btn';
                delBtn.onclick = () => deleteTask(index);

                li.appendChild(span);
                li.appendChild(delBtn);
                taskList.appendChild(li);
            }

            function refreshTaskList() {
                const taskList = document.getElementById('taskList');
                taskList.innerHTML = '';
                const tasks = getTasks();
                tasks.forEach((task, i) => appendTask(task, i));
            }

            function addTask() {
                const taskInput = document.getElementById('taskInput');
                const taskText = taskInput.value.trim();
                if (!taskText) return;

                const tasks = getTasks();
                tasks.push(taskText);
                saveTasks(tasks);
                refreshTaskList();
                taskInput.value = '';
            }

            function deleteTask(index) {
                let tasks = getTasks();
                if (index >= 0 && index < tasks.length) {
                    tasks.splice(index, 1);
                    saveTasks(tasks);
                    refreshTaskList();
                }
            }

            function removeLastTask() {
                let tasks = getTasks();
                if (tasks.length > 0) {
                    tasks.pop();
                    saveTasks(tasks);
                    refreshTaskList();
                }
            }

        </script>


</body>
</html>